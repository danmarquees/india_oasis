{% extends 'base.html' %} {% load static %} {% block content %}

<!-- CSRF Token para requisi√ß√µes AJAX -->
{% csrf_token %}

<!-- Configura√ß√£o de URLs do Django para o sistema de toast -->
<script>
    // Defini√ß√£o global das URLs do Django para uso no JavaScript
    var URLS = {
        cart: "{% url 'store:cart' %}",
        wishlist: "{% url 'store:wishlist' %}",
        products: "{% url 'store:product_list' %}",
        home: "{% url 'store:home' %}",
        product_detail: function (slug) {
            return "{% url 'store:product_detail' 'PLACEHOLDER_SLUG' %}".replace(
                "PLACEHOLDER_SLUG",
                slug,
            );
        },
    };
</script>

<!-- Defini√ß√£o da vari√°vel global products para uso no JavaScript -->
<script>
var products = [
{% for product in products %}
  {
    "id": {{ product.id|default:"0" }},
    "name": "{{ product.name|escapejs|default:"" }}",
    "price": {{ product.price|floatformat:"2"|default:"0.00"|cut:"," }},
    "image": "{% if product.image %}{{ product.image.url }}{% else %}{% static 'images/default_product.png' %}{% endif %}",
    "description": "{{ product.description|escapejs|default:"" }}",
    "category": "{{ product.category.name|escapejs|default:"" }}",
    "rating": {{ product.average_rating|default:"0" }},
    "reviews": []
  }{% if not forloop.last %},{% endif %}
{% endfor %}
];
</script>

<main id="main-content" class="container mx-auto p-4 sm:p-6 lg:p-8">
    <!-- ==== P√ÅGINA INICIAL ==== -->
    <div id="home-page" class="page active-page">
        <!-- Hero Carousel Section -->
        <section
            class="relative w-full h-80 md:h-[500px] lg:h-[600px] rounded-2xl overflow-hidden shadow-2xl mb-12"
        >
            <div id="carousel-container" class="relative w-full h-full">
                <!-- Slide 1 - Especiarias Arom√°ticas -->
                <div
                    class="carousel-item active absolute inset-0 bg-gradient-to-r from-amber-900/90 to-orange-800/90 text-white flex items-center"
                    style="
                        background-image: url(&quot;https://images.unsplash.com/photo-1596040033229-a9821ebd058d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80&quot;);
                        background-size: cover;
                        background-position: center;
                    "
                >
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent"
                    ></div>
                    <div class="relative z-10 container mx-auto px-8">
                        <div class="max-w-2xl">
                            <div class="mb-4">
                                <span
                                    class="inline-block bg-yellow-400 text-black px-4 py-2 rounded-full text-sm font-semibold"
                                >
                                    üåü Especiarias Aut√™nticas
                                </span>
                            </div>
                            <h1
                                class="text-4xl md:text-6xl lg:text-7xl font-teko mb-6 leading-tight"
                            >
                                Sabores da √çndia<br />
                                <span class="text-yellow-400"
                                    >Direto para sua Cozinha</span
                                >
                            </h1>
                            <p
                                class="mb-8 text-lg md:text-xl text-gray-200 leading-relaxed"
                            >
                                Explore uma sele√ß√£o aut√™ntica de temperos que
                                trazem a alma da culin√°ria indiana para suas
                                receitas.
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4">
                                <a
                                    href="{% url 'store:product_list' %}"
                                    class="btn btn-primary text-lg px-8 py-4"
                                >
                                    <i class="fas fa-shopping-bag mr-2"></i>
                                    Ver Temperos
                                </a>
                                <a
                                    href="#catalog"
                                    class="btn btn-secondary text-lg px-8 py-4"
                                >
                                    <i class="fas fa-info-circle mr-2"></i>
                                    Saiba Mais
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 2 - Ch√°s e Infus√µes -->
                <div
                    class="carousel-item absolute inset-0 bg-gradient-to-r from-green-900/90 to-teal-800/90 text-white flex items-center"
                    style="
                        background-image: url(&quot;https://images.unsplash.com/photo-1544787219-7f47ccb76574?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2341&q=80&quot;);
                        background-size: cover;
                        background-position: center;
                    "
                >
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent"
                    ></div>
                    <div class="relative z-10 container mx-auto px-8">
                        <div class="max-w-2xl">
                            <div class="mb-4">
                                <span
                                    class="inline-block bg-green-400 text-black px-4 py-2 rounded-full text-sm font-semibold"
                                >
                                    üçÉ Ch√°s Premium
                                </span>
                            </div>
                            <h1
                                class="text-4xl md:text-6xl lg:text-7xl font-teko mb-6 leading-tight"
                            >
                                Aconchego em<br />
                                <span class="text-green-400">Cada Gole</span>
                            </h1>
                            <p
                                class="mb-8 text-lg md:text-xl text-gray-200 leading-relaxed"
                            >
                                Descubra nossos ch√°s e infus√µes, perfeitos para
                                um momento de paz e sabor aut√™ntico.
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4">
                                <a
                                    href="{% url 'store:product_list' %}"
                                    class="btn btn-secondary text-lg px-8 py-4"
                                >
                                    <i class="fas fa-leaf mr-2"></i>
                                    Ver Ch√°s
                                </a>
                                <a
                                    href="#catalog"
                                    class="btn btn-primary text-lg px-8 py-4"
                                >
                                    <i class="fas fa-heart mr-2"></i>
                                    Favoritos
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 3 - Receitas Tradicionais -->
                <div
                    class="carousel-item absolute inset-0 bg-gradient-to-r from-red-900/90 to-pink-800/90 text-white flex items-center"
                    style="
                        background-image: url(&quot;https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2342&q=80&quot;);
                        background-size: cover;
                        background-position: center;
                    "
                >
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent"
                    ></div>
                    <div class="relative z-10 container mx-auto px-8">
                        <div class="max-w-2xl">
                            <div class="mb-4">
                                <span
                                    class="inline-block bg-red-400 text-white px-4 py-2 rounded-full text-sm font-semibold"
                                >
                                    üçõ Receitas Tradicionais
                                </span>
                            </div>
                            <h1
                                class="text-4xl md:text-6xl lg:text-7xl font-teko mb-6 leading-tight"
                            >
                                Tradi√ß√£o que<br />
                                <span class="text-red-400">Inspira</span>
                            </h1>
                            <p
                                class="mb-8 text-lg md:text-xl text-gray-200 leading-relaxed"
                            >
                                Aprenda receitas aut√™nticas da √çndia com
                                ingredientes selecionados especialmente para
                                voc√™.
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4">
                                <a
                                    href="{% url 'store:product_list' %}"
                                    class="btn btn-primary text-lg px-8 py-4"
                                >
                                    <i class="fas fa-book mr-2"></i>
                                    Ver Receitas
                                </a>
                                <a
                                    href="#catalog"
                                    class="btn btn-secondary text-lg px-8 py-4"
                                >
                                    <i class="fas fa-utensils mr-2"></i>
                                    Ingredientes
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carousel Controls -->
            <button
                id="prev-slide"
                class="absolute left-4 md:left-6 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-3 md:p-4 rounded-full transition-all duration-300 hover:scale-110 group"
            >
                <i
                    class="fas fa-chevron-left text-lg group-hover:text-yellow-400"
                ></i>
            </button>
            <button
                id="next-slide"
                class="absolute right-4 md:right-6 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-3 md:p-4 rounded-full transition-all duration-300 hover:scale-110 group"
            >
                <i
                    class="fas fa-chevron-right text-lg group-hover:text-yellow-400"
                ></i>
            </button>

            <!-- Carousel Indicators -->
            <div
                class="absolute bottom-4 md:bottom-6 left-1/2 -translate-x-1/2 flex space-x-3"
            >
                <button
                    class="carousel-indicator active w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all duration-300"
                    data-slide="0"
                ></button>
                <button
                    class="carousel-indicator w-3 h-3 rounded-full bg-white/30 hover:bg-white transition-all duration-300"
                    data-slide="1"
                ></button>
                <button
                    class="carousel-indicator w-3 h-3 rounded-full bg-white/30 hover:bg-white transition-all duration-300"
                    data-slide="2"
                ></button>
            </div>

            <!-- Progress Bar -->
            <div class="absolute bottom-0 left-0 w-full h-1 bg-white/20">
                <div
                    id="carousel-progress"
                    class="h-full bg-gradient-to-r from-yellow-400 to-orange-400 transition-all duration-300 ease-linear"
                    style="width: 0%"
                ></div>
            </div>
        </section>

        <!-- Cat√°logo de Produtos Preview -->
        <section class="mb-16">
            <h2 class="text-4xl font-teko text-center text-secondary mb-8">
                <i class="fas fa-fire text-primary mr-3"></i>
                Nosso Cat√°logo
            </h2>
            <div
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
            >
                {% for product in products %}
                <div
                    class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"
                >
                    <div class="aspect-square bg-gray-100 relative">
                        <img
                            src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'images/default_product.png' %}{% endif %}"
                            alt="{{ product.name }}"
                            class="w-full h-full object-cover"
                        />
                        <button
                            class="absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50"
                        >
                            <i
                                class="fas fa-heart text-gray-400 hover:text-red-500"
                            ></i>
                        </button>
                        {% comment %} You can add logic for tags like 'BEST
                        SELLER', 'OFFER', 'NEW' here, based on product data
                        {%endcomment %} {% if product.stock == 0 %}
                        <span
                            class="absolute top-3 left-3 bg-red-600 text-white text-xs px-2 py-1 rounded font-bold"
                            >ESGOTADO</span
                        >
                        {% elif product.is_new %} {# Assuming you have an
                        'is_new' attribute or logic for this #}
                        <span
                            class="absolute top-3 left-3 bg-green-500 text-white text-xs px-2 py-1 rounded"
                            >NOVO</span
                        >
                        {% endif %}
                    </div>
                    <div class="p-4">
                        <a
                            href="{% url 'store:product_detail' product.slug %}"
                            class="block"
                        >
                            <h3
                                class="font-semibold text-gray-800 mb-2 hover:text-primary transition-colors"
                            >
                                {{ product.name }}
                            </h3>
                        </a>
                        <p class="text-sm text-gray-600 mb-3">
                            {{ product.description|truncatechars:50 }}
                        </p>
                        <div class="flex items-center mb-2">
                            <div class="flex text-yellow-400 text-sm">
                                {% for i in "12345"|make_list %}
                                    {% if product.average_rating|default:0 >= i|add:".0" %}
                                        <i class="fas fa-star"></i>
                                    {% elif product.average_rating|default:0 >= i|add:"-.5" %}
                                        <i class="fas fa-star-half-alt"></i>
                                    {% else %}
                                        <i class="far fa-star"></i>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <span class="text-xs text-gray-500 ml-1">
                                ({{ product.average_rating|floatformat:1 }}/5 - {{ product.review_count }})
                            </span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-lg font-bold text-primary"
                                >R$ {{ product.price|floatformat:2 }}</span
                            >
                            <button type="button" class="btn btn-primary text-sm px-4 py-2 add-to-cart-btn"
                                data-id="{{ product.id }}"
                                data-product-name="{{ product.name }}">
                                <i class="fas fa-cart-plus mr-1"></i>
                                Adicionar
                            </button>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-span-full text-center py-12">
                    <i class="fas fa-box-open text-6xl text-gray-300 mb-4"></i>
                    <h3 class="text-2xl font-teko text-gray-500 mb-2">
                        Nenhum produto dispon√≠vel no momento.
                    </h3>
                    <p class="text-gray-400">
                        Volte mais tarde para novas op√ß√µes!
                    </p>
                </div>
                {% endfor %}
            </div>
            <div class="text-center">
                <a
                    href="{% url 'store:product_list' %}"
                    class="btn btn-secondary text-lg px-8 py-3"
                >
                    <i class="fas fa-th-large mr-2"></i>
                    Ver Todos os Produtos
                </a>
            </div>
        </section>

        <section class="mb-16">
            <h2 class="text-4xl font-teko text-center text-secondary mb-8">
                <i class="fas fa-crown text-primary mr-3"></i>
                Produtos em Destaque
            </h2>
            <div
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
            >
                {% for product in products %}
                <div
                    class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"
                >
                    <div class="aspect-square bg-gray-100 relative">
                        <img
                            src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'images/default_product.png' %}{% endif %}"
                            alt="{{ product.name }}"
                            class="w-full h-full object-cover"
                        />
                        <button
                            class="absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50"
                        >
                            <i
                                class="fas fa-heart text-gray-400 hover:text-red-500"
                            ></i>
                        </button>
                        {% comment %} You can add logic for tags like 'BEST
                        SELLER', 'OFFER', 'NEW' here, based on product data
                        {%endcomment %} {% if product.stock == 0 %}
                        <span
                            class="absolute top-3 left-3 bg-red-600 text-white text-xs px-2 py-1 rounded font-bold"
                            >ESGOTADO</span
                        >
                        {% elif product.is_new %} {# Assuming you have an
                        'is_new' attribute or logic for this #}
                        <span
                            class="absolute top-3 left-3 bg-green-500 text-white text-xs px-2 py-1 rounded"
                            >NOVO</span
                        >
                        {% endif %}
                    </div>
                    <div class="p-4">
                        <a
                            href="{% url 'store:product_detail' product.slug %}"
                            class="block"
                        >
                            <h3
                                class="font-semibold text-gray-800 mb-2 hover:text-primary transition-colors"
                            >
                                {{ product.name }}
                            </h3>
                        </a>
                        <p class="text-sm text-gray-600 mb-3">
                            {{ product.description|truncatechars:50 }}
                        </p>
                        <div class="flex items-center mb-2">
                            <div class="flex text-yellow-400 text-sm">
                                {% for i in "12345"|make_list %}
                                    {% if product.average_rating|default:0 >= i|add:".0" %}
                                        <i class="fas fa-star"></i>
                                    {% elif product.average_rating|default:0 >= i|add:"-.5" %}
                                        <i class="fas fa-star-half-alt"></i>
                                    {% else %}
                                        <i class="far fa-star"></i>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <span class="text-xs text-gray-500 ml-1">
                                ({{ product.average_rating|floatformat:1 }}/5 - {{ product.review_count }})
                            </span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-lg font-bold text-primary"
                                >R$ {{ product.price|floatformat:2 }}</span
                            >
                            <button type="button" class="btn btn-primary text-sm px-4 py-2 add-to-cart-btn"
                                data-id="{{ product.id }}"
                                data-product-name="{{ product.name }}">
                                <i class="fas fa-cart-plus mr-1"></i>
                                Adicionar
                            </button>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-span-full text-center py-12">
                    <i class="fas fa-box-open text-6xl text-gray-300 mb-4"></i>
                    <h3 class="text-2xl font-teko text-gray-500 mb-2">
                        Nenhum produto dispon√≠vel no momento.
                    </h3>
                    <p class="text-gray-400">
                        Volte mais tarde para novas op√ß√µes!
                    </p>
                </div>
                {% endfor %}
            </div>
            <div class="text-center">
                <a
                    href="{% url 'store:product_list' %}"
                    class="btn btn-secondary text-lg px-8 py-3"
                >
                    <i class="fas fa-th-large mr-2"></i>
                    Ver Todos os Produtos
                </a>
            </div>
        </section>

        <!-- Recomenda√ß√µes -->
        <section class="mb-16">
            <h2 class="text-4xl font-teko text-center text-secondary mb-8">
                <i class="fas fa-magic text-primary mr-3"></i>
                Recomenda√ß√µes para Voc√™
            </h2>
            <div
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
            >
                {% for product in products %}
                <div
                    class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"
                >
                    <div class="aspect-square bg-gray-100 relative">
                        <img
                            src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'images/default_product.png' %}{% endif %}"
                            alt="{{ product.name }}"
                            class="w-full h-full object-cover"
                        />
                        <button
                            class="absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50"
                        >
                            <i
                                class="fas fa-heart text-gray-400 hover:text-red-500"
                            ></i>
                        </button>
                        {% comment %} You can add logic for tags like 'BEST
                        SELLER', 'OFFER', 'NEW' here, based on product data
                        {%endcomment %} {% if product.stock == 0 %}
                        <span
                            class="absolute top-3 left-3 bg-red-600 text-white text-xs px-2 py-1 rounded font-bold"
                            >ESGOTADO</span
                        >
                        {% elif product.is_new %} {# Assuming you have an
                        'is_new' attribute or logic for this #}
                        <span
                            class="absolute top-3 left-3 bg-green-500 text-white text-xs px-2 py-1 rounded"
                            >NOVO</span
                        >
                        {% endif %}
                    </div>
                    <div class="p-4">
                        <a
                            href="{% url 'store:product_detail' product.slug %}"
                            class="block"
                        >
                            <h3
                                class="font-semibold text-gray-800 mb-2 hover:text-primary transition-colors"
                            >
                                {{ product.name }}
                            </h3>
                        </a>
                        <p class="text-sm text-gray-600 mb-3">
                            {{ product.description|truncatechars:50 }}
                        </p>
                        <div class="flex items-center mb-2">
                            <div class="flex text-yellow-400 text-sm">
                                {% for i in "12345"|make_list %}
                                    {% if product.average_rating|default:0 >= i|add:".0" %}
                                        <i class="fas fa-star"></i>
                                    {% elif product.average_rating|default:0 >= i|add:"-.5" %}
                                        <i class="fas fa-star-half-alt"></i>
                                    {% else %}
                                        <i class="far fa-star"></i>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <span class="text-xs text-gray-500 ml-1">
                                ({{ product.average_rating|floatformat:1 }}/5 - {{ product.review_count }})
                            </span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-lg font-bold text-primary"
                                >R$ {{ product.price|floatformat:2 }}</span
                            >
                            <button type="button" class="btn btn-primary text-sm px-4 py-2 add-to-cart-btn"
                                data-id="{{ product.id }}"
                                data-product-name="{{ product.name }}">
                                <i class="fas fa-cart-plus mr-1"></i>
                                Adicionar
                            </button>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-span-full text-center py-12">
                    <i class="fas fa-box-open text-6xl text-gray-300 mb-4"></i>
                    <h3 class="text-2xl font-teko text-gray-500 mb-2">
                        Nenhum produto dispon√≠vel no momento.
                    </h3>
                    <p class="text-gray-400">
                        Volte mais tarde para novas op√ß√µes!
                    </p>
                </div>
                {% endfor %}
            </div>
            <div class="text-center">
                <a
                    href="{% url 'store:product_list' %}"
                    class="btn btn-secondary text-lg px-8 py-3"
                >
                    <i class="fas fa-th-large mr-2"></i>
                    Ver Todos os Produtos
                </a>
            </div>
        </section>

        <!-- Avalia√ß√µes em Destaque -->
        <section class="mt-12 bg-white p-8 rounded-lg shadow-md">
            <h2 class="text-4xl font-teko text-center text-secondary mb-8">
                O que nossos clientes dizem
            </h2>
            <div
                id="featured-reviews"
                class="grid grid-cols-1 md:grid-cols-3 gap-8"
            >
                {% for review in featured_reviews %}
                <div
                    class="indian-card review-card p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300"
                >
                    <div class="flex items-center mb-4">
                        <img
                            src="https://ui-avatars.com/api/?name={{ review.user.first_name|default:review.user.username }}&background=random"
                            alt="{{ review.user.get_full_name|default:review.user.username }}"
                            class="w-12 h-12 rounded-full mr-4 review-avatar"
                        />
                        <div>
                            <h4
                                class="font-rajdhani font-semibold text-lg text-cinnamon-brown"
                            >
                                {{
                                review.user.get_full_name|default:review.user.username
                                }}
                            </h4>
                            <div class="rating flex">
                                {% for i in '12345' %}
                                <i
                                    class="fas {% if review.rating|add:'0' >= i|add:'0' %}fa-star text-accent{% else %}fa-star text-gray-300{% endif %}"
                                ></i>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div class="ingredient-badge mb-3">
                        {{ review.product.name }}
                    </div>
                    <p class="text-gray-700 italic leading-relaxed">
                        "{{ review.comment }}"
                    </p>
                    <div class="mt-4 text-sm text-gray-500">
                        <i class="fas fa-calendar mr-1"></i>
                        {{ review.created_at|timesince }} atr√°s
                    </div>
                </div>
                {% empty %}
                <div class="text-center py-8 text-gray-500">
                    Ainda n√£o h√° avalia√ß√µes em destaque.
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- Estat√≠sticas de Satisfa√ß√£o -->
        <section
            class="mt-16 mb-12 rounded-lg p-8 text-white relative overflow-hidden shadow-2xl"
            style="
                background: linear-gradient(
                    135deg,
                    #8b4513 0%,
                    #a0522d 25%,
                    #cd853f 50%,
                    #d2691e 75%,
                    #cc2936 100%
                );
            "
        >
            <!-- Background Pattern -->
            <div class="absolute inset-0 opacity-10">
                <div class="paisley-decoration h-full w-full"></div>
            </div>
            <!-- Spice-themed Background Overlay -->
            <div
                class="absolute inset-0 bg-gradient-to-t from-amber-900/30 via-transparent to-orange-800/20"
            ></div>
            <!-- Indian Pattern Overlay -->
            <div
                class="absolute inset-0 opacity-5"
                style="
                    background-image:
                        radial-gradient(
                            circle at 25% 25%,
                            #f7931e 2px,
                            transparent 2px
                        ),
                        radial-gradient(
                            circle at 75% 75%,
                            #ff6b35 1px,
                            transparent 1px
                        );
                    background-size: 20px 20px;
                    background-position:
                        0 0,
                        10px 10px;
                "
            ></div>

            <div class="relative z-10">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-teko mb-4 text-yellow-200">
                        <i class="fas fa-chart-line mr-3 text-yellow-300"></i>
                        Nossa Satisfa√ß√£o em N√∫meros
                    </h2>
                    <p class="text-xl text-orange-100">
                        A opini√£o dos nossos clientes √© o que mais importa para
                        n√≥s
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center">
                    <div
                        class="spice-container bg-amber-800/30 p-6 rounded-lg backdrop-blur-sm border border-yellow-400/30 hover:border-yellow-300/50 transition-all duration-300 hover:scale-105"
                    >
                        <div class="text-4xl font-bold text-yellow-300 mb-2">
                            {{ percent_repeat_buyers }}%
                        </div>
                        <div class="text-lg font-rajdhani text-white">
                            Recompram
                        </div>
                        <div class="text-sm text-orange-200 mt-2">
                            <i class="fas fa-redo text-yellow-400"></i>
                            Clientes que voltam
                        </div>
                    </div>
                    <div
                        class="spice-container bg-amber-800/30 p-6 rounded-lg backdrop-blur-sm border border-yellow-400/30 hover:border-yellow-300/50 transition-all duration-300 hover:scale-105"
                    >
                        <div class="text-4xl font-bold text-yellow-300 mb-2">
                            {{ avg_rating|floatformat:1 }}
                        </div>
                        <div class="text-lg font-rajdhani text-white">
                            Nota M√©dia
                        </div>
                        <div class="text-sm text-orange-200 mt-2">
                            <i class="fas fa-thumbs-up text-yellow-400"></i>
                            Avalia√ß√£o de 5 estrelas
                        </div>
                    </div>
                    <div
                        class="spice-container bg-amber-800/30 p-6 rounded-lg backdrop-blur-sm border border-yellow-400/30 hover:border-yellow-300/50 transition-all duration-300 hover:scale-105"
                    >
                        <div class="text-4xl font-bold text-yellow-300 mb-2">
                            {{ total_reviews }}
                        </div>
                        <div class="text-lg font-rajdhani text-white">
                            Satisfa√ß√£o Geral
                        </div>
                        <div class="text-sm text-orange-200 mt-2">
                            <i class="fas fa-star text-yellow-400"></i>
                            Baseado em {{ total_reviews }} avalia√ß√µes
                        </div>
                    </div>
                    <div
                        class="spice-container bg-amber-800/30 p-6 rounded-lg backdrop-blur-sm border border-yellow-400/30 hover:border-yellow-300/50 transition-all duration-300 hover:scale-105"
                    >
                        <div class="text-4xl font-bold text-yellow-300 mb-2">
                            {{ avg_response_time }}
                        </div>
                        <div class="text-lg font-rajdhani text-white">
                            Suporte R√°pido
                        </div>
                        <div class="text-sm text-orange-200 mt-2">
                            <i class="fas fa-clock text-yellow-400"></i>
                            Tempo m√©dio de resposta
                        </div>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button
                        class="btn bg-yellow-500 text-black hover:bg-yellow-400 px-8 py-3 text-lg font-rajdhani shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"
                    >
                        <i class="fas fa-comment-dots mr-2"></i>
                        Ver Todas as Avalia√ß√µes
                    </button>
                </div>
            </div>
        </section>

        <!-- Depoimentos R√°pidos -->
        <section class="mb-16 bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-3xl font-teko text-center text-secondary mb-8">
                <i class="fas fa-quote-left mr-3 text-accent"></i>
                Palavras dos Nossos Clientes
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div
                    class="bg-gradient-to-br from-ginger-cream to-white p-4 rounded-lg border-l-4 border-saffron-deep"
                >
                    <p class="text-gray-700 italic mb-3">
                        "Produtos aut√™nticos que transformaram minha cozinha!"
                    </p>
                    <div class="flex items-center">
                        <div class="rating mr-3">
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                        </div>
                        <span class="text-sm font-semibold text-cinnamon-brown"
                            >- Marina C.</span
                        >
                    </div>
                </div>

                <div
                    class="bg-gradient-to-br from-ginger-cream to-white p-4 rounded-lg border-l-4 border-cardamom-green"
                >
                    <p class="text-gray-700 italic mb-3">
                        "Entrega super r√°pida e produtos fresqu√≠ssimos!"
                    </p>
                    <div class="flex items-center">
                        <div class="rating mr-3">
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                        </div>
                        <span class="text-sm font-semibold text-cinnamon-brown"
                            >- Roberto L.</span
                        >
                    </div>
                </div>

                <div
                    class="bg-gradient-to-br from-ginger-cream to-white p-4 rounded-lg border-l-4 border-turmeric-gold"
                >
                    <p class="text-gray-700 italic mb-3">
                        "Atendimento excepcional e pre√ßos justos!"
                    </p>
                    <div class="flex items-center">
                        <div class="rating mr-3">
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                            <i class="fas fa-star text-accent text-sm"></i>
                        </div>
                        <span class="text-sm font-semibold text-cinnamon-brown"
                            >- Fernanda S.</span
                        >
                    </div>
                </div>
            </div>
        </section>

        <!-- Blocos de Informa√ß√£o -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
            <div
                class="bg-white p-6 rounded-lg shadow-md flex items-center space-x-4"
            >
                <i class="fas fa-truck-fast text-4xl text-primary"></i>
                <div>
                    <h3 class="text-2xl font-teko text-secondary">
                        Entrega em todo o Brasil
                    </h3>
                    <p>
                        Receba seus produtos favoritos no conforto da sua casa,
                        onde quer que voc√™ esteja.
                    </p>
                </div>
            </div>
            <div
                class="bg-white p-6 rounded-lg shadow-md flex items-center space-x-4"
            >
                <i class="fas fa-credit-card text-4xl text-primary"></i>
                <div>
                    <h3 class="text-2xl font-teko text-secondary">
                        Pagamento Facilitado
                    </h3>
                    <p>
                        Aceitamos cart√£o de cr√©dito, PIX e boleto. Compre com
                        seguran√ßa e praticidade.
                    </p>
                </div>
            </div>
        </section>

            <h2 class="text-2xl font-teko text-secondary mb-4">
                <i class="fas fa-bell text-primary mr-2"></i>
                Demonstra√ß√£o de Notifica√ß√µes
            </h2>
            <p class="mb-4">
                Teste os diferentes tipos de notifica√ß√µes toast dispon√≠veis no
                sistema:
            </p>
            <div class="flex flex-wrap gap-3">
                <button
                    onclick="window.toastSystem.success('Sucesso!', 'Opera√ß√£o realizada com sucesso!')"
                    class="btn bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded transition-all duration-200 hover:shadow-lg"
                >
                    <i class="fas fa-check-circle mr-2"></i>Sucesso
                </button>
                <button
                    onclick="window.toastSystem.info('Informa√ß√£o', 'Aten√ß√£o! Esta √© uma mensagem importante.')"
                    class="btn bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-all duration-200 hover:shadow-lg"
                >
                    <i class="fas fa-info-circle mr-2"></i>Informa√ß√£o
                </button>
                <button
                    onclick="window.toastSystem.warning('Aviso', 'Cuidado! Esta a√ß√£o pode ser irrevers√≠vel.')"
                    class="btn bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded transition-all duration-200 hover:shadow-lg"
                >
                    <i class="fas fa-exclamation-triangle mr-2"></i>Aviso
                </button>
                <button
                    onclick="window.toastSystem.error('Erro', 'N√£o foi poss√≠vel completar a opera√ß√£o.')"
                    class="btn bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition-all duration-200 hover:shadow-lg"
                >
                    <i class="fas fa-exclamation-circle mr-2"></i>Erro
                </button>
                <button
                    onclick="testMultipleToasts()"
                    class="btn bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded transition-all duration-200 hover:shadow-lg"
                >
                    <i class="fas fa-layer-group mr-2"></i>Teste de M√∫ltiplos
                </button>
                <button
                    onclick="window.cartNotifications.itemAdded('Produto Teste', 1)"
                    class="btn bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded transition-all duration-200 hover:shadow-lg"
                >
                    <i class="fas fa-shopping-cart mr-2"></i>Adicionado ao
                    Carrinho
                </button>
                <button
                    onclick="window.wishlistNotifications.itemAdded('Produto Teste')"
                    class="btn bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded transition-all duration-200 hover:shadow-lg"
                >
                    <i class="fas fa-heart mr-2"></i>Adicionado aos Favoritos
                </button>
            </div>
        </section> -->
    </div>
</main>

<!-- Certifique-se de incluir o script de notifica√ß√µes -->
<script src="{% static 'js/toast-system.js' %}"></script>
<script src="{% static 'js/script.js' %}"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof initHomePage === 'function') {
      initHomePage();
    } else if (window.initHomePage) {
      window.initHomePage();
    }
  });
</script>
{% endblock content %}

{% block extra_js %}
<script>
  function renderStars(container, rating) {
    container.innerHTML = '';
    for (let i = 1; i <= 5; i++) {
      if (rating >= i) {
        container.innerHTML += '<i class="fas fa-star"></i>';
      } else if (rating >= i - 0.5) {
        container.innerHTML += '<i class="fas fa-star-half-alt"></i>';
      } else {
        container.innerHTML += '<i class="far fa-star"></i>';
      }
    }
  }
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.star-rating').forEach(function(el) {
      const rating = parseFloat(el.getAttribute('data-rating')) || 0;
      renderStars(el, rating);
    });
  });
</script>
{% endblock %}
